<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>本机 IP 查询 · 类 ip.skk.moe 版</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
    <header class="header">
      <nav class="nav">
        <a href="#" class="nav-item nav-item-active">本机 IP 查询</a>
        <span class="nav-item nav-item-disabled">网站分流测试（待实现）</span>
        <span class="nav-item nav-item-disabled">多出口 IP 查询（待实现）</span>
        <span class="nav-item nav-item-disabled">CDN 命中节点（待实现）</span>
        <span class="nav-item nav-item-disabled">DNS 出口查询（待实现）</span>
        <span class="nav-item nav-item-disabled">WebRTC UDP（待实现）</span>
        <span class="nav-item nav-item-disabled">IP 洞察（待实现）</span>
      </nav>

      <div class="headline">
        <h1>本机 IP 查询</h1>
        <p class="subtitle">
          查看你当前网络的 IPv4 / IPv6 地址、位置信息 和 网络连通性
        </p>
      </div>
    </header>

    <main class="main">
      <!-- 左侧：IPv4 / IPv6 概览 -->
      <section class="card card-main-ip">
        <h2>当前公网 IP 概览</h2>

        <div class="ip-section">
          <div class="ip-section-header">
            <span class="pill pill-v4">IPv4</span>
            <span id="v4-source" class="source-text"></span>
          </div>
          <div class="ip-main">
            <span id="v4-ip" class="ip-address">检测中...</span>
          </div>
          <div class="ip-meta">
            <div><strong>位置：</strong><span id="v4-location">-</span></div>
            <div><strong>国家 / 地区：</strong><span id="v4-country">-</span></div>
            <div><strong>运营商：</strong><span id="v4-isp">-</span></div>
            <div><strong>ASN：</strong><span id="v4-asn">-</span></div>
            <div><strong>时区：</strong><span id="v4-timezone">-</span></div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="ip-section">
          <div class="ip-section-header">
            <span class="pill pill-v6">IPv6</span>
            <span id="v6-source" class="source-text"></span>
          </div>
          <div class="ip-main">
            <span id="v6-ip" class="ip-address">检测中...</span>
          </div>
          <div class="ip-meta">
            <div><strong>位置：</strong><span id="v6-location">-</span></div>
            <div><strong>国家 / 地区：</strong><span id="v6-country">-</span></div>
            <div><strong>运营商：</strong><span id="v6-isp">-</span></div>
            <div><strong>ASN：</strong><span id="v6-asn">-</span></div>
            <div><strong>时区：</strong><span id="v6-timezone">-</span></div>
          </div>
        </div>

        <div id="ip-error" class="ip-error hidden"></div>

        <button id="refresh-ip" class="btn">重新获取 IP 信息</button>
      </section>

      <!-- 右侧：多来源 IP 信息 + 连通性 -->
      <section class="card card-sources">
        <h2>多来源 IP 信息（更接近 ip.skk.moe）</h2>
        <p class="description">
          同时调用多个免费 IP API（国内 / 国际），交叉比对 IP、位置、ISP、ASN 等信息。  
          <br />
          <small>因为各家数据源不同，信息可能略有差异，仅供参考。</small>
        </p>

        <div class="toggle-row">
          <label>
            <input type="checkbox" id="hide-domestic" />
            隐藏国内信息
          </label>
          <label>
            <input type="checkbox" id="hide-global" />
            隐藏国际信息
          </label>
        </div>

        <table id="ip-sources-table" class="table table-small">
          <thead>
            <tr>
              <th>数据源</th>
              <th>类型</th>
              <th>IP</th>
              <th>位置</th>
              <th>ISP</th>
              <th>ASN</th>
              <th>状态</th>
            </tr>
          </thead>
          <tbody>
            <!-- 国内：百度奇富 -->
            <tr data-provider-id="baidu-qifu" data-scope="domestic">
              <td>百度奇富</td>
              <td><span class="badge badge-domestic">国内</span></td>
              <td class="ip-cell">--</td>
              <td class="loc-cell">--</td>
              <td class="isp-cell">--</td>
              <td class="asn-cell">--</td>
              <td class="status-cell">
                <span class="status-pill status-pending">等待中</span>
              </td>
            </tr>
            <!-- 国际：IP.SB -->
            <tr data-provider-id="ip-sb" data-scope="global">
              <td>IP.SB</td>
              <td><span class="badge badge-global">国际</span></td>
              <td class="ip-cell">--</td>
              <td class="loc-cell">--</td>
              <td class="isp-cell">--</td>
              <td class="asn-cell">--</td>
              <td class="status-cell">
                <span class="status-pill status-pending">等待中</span>
              </td>
            </tr>
            <!-- 国际：ipapi.co -->
            <tr data-provider-id="ipapi" data-scope="global">
              <td>ipapi.co</td>
              <td><span class="badge badge-global">国际</span></td>
              <td class="ip-cell">--</td>
              <td class="loc-cell">--</td>
              <td class="isp-cell">--</td>
              <td class="asn-cell">--</td>
              <td class="status-cell">
                <span class="status-pill status-pending">等待中</span>
              </td>
            </tr>
            <!-- 国际：GeoJS -->
            <tr data-provider-id="geojs" data-scope="global">
              <td>GeoJS</td>
              <td><span class="badge badge-global">国际</span></td>
              <td class="ip-cell">--</td>
              <td class="loc-cell">--</td>
              <td class="isp-cell">--</td>
              <td class="asn-cell">--</td>
              <td class="status-cell">
                <span class="status-pill status-pending">等待中</span>
              </td>
            </tr>
          </tbody>
        </table>

        <h3 class="subheading">常用网站连通性</h3>
        <p class="description">
          使用小图标资源的加载时间，粗略模拟「分流测试」。  
          <br /><small>前端环境无法真正 ping，仅作“是否能访问 + 大致延迟”参考。</small>
        </p>

        <table id="connectivity-table" class="table">
          <thead>
            <tr>
              <th>站点</th>
              <th>类型</th>
              <th>延迟</th>
              <th>状态</th>
            </tr>
          </thead>
          <tbody>
            <!-- 行由 JS 动态生成（字节跳动 / B 站 / 微信 / 淘宝 / GitHub / jsDelivr / Cloudflare / YouTube） -->
          </tbody>
        </table>
      </section>
    </main>

    <footer class="footer">
      <span>© 2025 My IP Checker · Inspired by ip.skk.moe</span>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
